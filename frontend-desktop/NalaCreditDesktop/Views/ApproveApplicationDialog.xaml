<Window x:Class="NalaCreditDesktop.Views.ApproveApplicationDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Approuver Demande Crédit" 
        Height="550" Width="600"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#F5F5F5">
    
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
        </Style>
        
        <Style x:Key="HeaderText" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#2c3e50"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>
        
        <Style x:Key="LabelText" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Foreground" Value="#34495e"/>
            <Setter Property="Margin" Value="0,0,0,5"/>
        </Style>
        
        <Style x:Key="InputBox" TargetType="TextBox">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Height" Value="38"/>
            <Setter Property="BorderBrush" Value="#bdc3c7"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>
        
        <Style x:Key="DateBox" TargetType="DatePicker">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Height" Value="38"/>
            <Setter Property="BorderBrush" Value="#bdc3c7"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Margin" Value="0,0,0,15"/>
        </Style>
        
        <Style x:Key="ApproveButton" TargetType="Button">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Background" Value="#27ae60"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#229954"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="#95a5a6"/>
                    <Setter Property="Cursor" Value="Arrow"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="CancelButton" TargetType="Button">
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Background" Value="#ecf0f1"/>
            <Setter Property="Foreground" Value="#34495e"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4" 
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#bdc3c7"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    
    <Border Padding="30" Background="White" Margin="10" CornerRadius="8">
        <Border.Effect>
            <DropShadowEffect Color="#000000" Opacity="0.1" BlurRadius="10" ShadowDepth="2"/>
        </Border.Effect>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Header -->
            <StackPanel Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Style="{StaticResource HeaderText}">
                    <Run Text="✓ Approuver Demande Crédit" Foreground="#27ae60"/>
                </TextBlock>
                <TextBlock x:Name="ApplicationNumberText" 
                          FontSize="14" 
                          Foreground="#7f8c8d"
                          Text="Demande #APP-20260102-0001"/>
            </StackPanel>
            
            <!-- Form -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    
                    <!-- Montant Demandé (Read-only) -->
                    <TextBlock Style="{StaticResource LabelText}" Text="Montant Demandé"/>
                    <TextBox x:Name="RequestedAmountTextBox"
                            Style="{StaticResource InputBox}"
                            IsReadOnly="True"
                            Background="#ecf0f1"
                            Text="50,000.00 HTG"/>
                    
                    <!-- Montant Approuvé -->
                    <TextBlock Style="{StaticResource LabelText}">
                        <Run Text="Montant Approuvé"/>
                        <Run Text="*" Foreground="Red"/>
                    </TextBlock>
                    <TextBox x:Name="ApprovedAmountTextBox"
                            Style="{StaticResource InputBox}"
                            TextChanged="ApprovedAmountTextBox_TextChanged"/>
                    
                    <!-- Taux d'Intérêt -->
                    <TextBlock Style="{StaticResource LabelText}">
                        <Run Text="Taux d'Intérêt Mensuel (%)"/>
                        <Run Text="*" Foreground="Red"/>
                    </TextBlock>
                    <TextBox x:Name="InterestRateTextBox"
                            Style="{StaticResource InputBox}"
                            TextChanged="InterestRateTextBox_TextChanged"/>
                    
                    <!-- Durée -->
                    <TextBlock Style="{StaticResource LabelText}">
                        <Run Text="Durée (mois)"/>
                        <Run Text="*" Foreground="Red"/>
                    </TextBlock>
                    <TextBox x:Name="DurationMonthsTextBox"
                            Style="{StaticResource InputBox}"
                            TextChanged="DurationMonthsTextBox_TextChanged"/>
                    
                    <!-- Date de Décaissement -->
                    <TextBlock Style="{StaticResource LabelText}">
                        <Run Text="Date de Décaissement"/>
                        <Run Text="*" Foreground="Red"/>
                    </TextBlock>
                    <DatePicker x:Name="DisbursementDatePicker"
                               Style="{StaticResource DateBox}"
                               SelectedDateChanged="DisbursementDatePicker_SelectedDateChanged"/>
                    
                    <!-- Commentaires -->
                    <TextBlock Style="{StaticResource LabelText}" Text="Commentaires/Notes"/>
                    <TextBox x:Name="CommentsTextBox"
                            FontFamily="Segoe UI"
                            FontSize="13"
                            Padding="10"
                            Height="80"
                            BorderBrush="#bdc3c7"
                            BorderThickness="1"
                            Background="White"
                            TextWrapping="Wrap"
                            AcceptsReturn="True"
                            VerticalScrollBarVisibility="Auto"
                            Margin="0,0,0,15"/>
                    
                    <!-- Validation Message -->
                    <TextBlock x:Name="ValidationMessageText"
                              FontSize="12"
                              Foreground="Red"
                              TextWrapping="Wrap"
                              Margin="0,0,0,10"
                              Visibility="Collapsed"/>
                    
                </StackPanel>
            </ScrollViewer>
            
            <!-- Buttons -->
            <StackPanel Grid.Row="2" 
                       Orientation="Horizontal" 
                       HorizontalAlignment="Right"
                       Margin="0,20,0,0">
                <Button x:Name="CancelButton"
                       Content="Annuler"
                       Style="{StaticResource CancelButton}"
                       Width="120"
                       Margin="0,0,10,0"
                       Click="CancelButton_Click"/>
                <Button x:Name="ApproveButton"
                       Content="✓ Approuver"
                       Style="{StaticResource ApproveButton}"
                       Width="150"
                       Click="ApproveButton_Click"/>
            </StackPanel>
            
        </Grid>
    </Border>
</Window>
