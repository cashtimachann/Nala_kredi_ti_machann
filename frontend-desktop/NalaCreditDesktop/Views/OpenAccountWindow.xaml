<Window x:Class="NalaCreditDesktop.Views.OpenAccountWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Ouvrir Nouveau Compte - Nala Kredi Ti Machann" 
        Height="700" Width="900"
        WindowStartupLocation="CenterScreen"
        Background="#F8F9FA">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="ðŸ’³" FontSize="32" VerticalAlignment="Center" Margin="0,0,15,0"/>
                    <StackPanel>
                        <TextBlock Text="Ouvrir Nouveau Compte" 
                                  FontSize="20" 
                                  FontWeight="Bold" 
                                  Foreground="White"/>
                        <TextBlock Text="SÃ©lection du client et type de compte" 
                                  FontSize="14" 
                                  Foreground="#BDC3C7"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Grid.Column="2" Orientation="Horizontal">
                    <Button Content="ðŸ’¾ Ouvrir Compte" 
                           x:Name="OpenAccountButton"
                           Background="#27AE60" 
                           Foreground="White"
                           Padding="20,10" 
                           Margin="5"
                           BorderThickness="0"
                           FontWeight="SemiBold"
                           Cursor="Hand"/>
                    <Button Content="âŒ Annuler" 
                           x:Name="CancelButton"
                           Background="#95A5A6" 
                           Foreground="White"
                           Padding="20,10" 
                           Margin="5"
                           BorderThickness="0"
                           FontWeight="SemiBold"
                           Cursor="Hand"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
            <StackPanel Margin="0,0,0,20">
                
                <!-- Client Selection -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ‘¤ SÃ©lection du Client" 
                                  FontSize="16" 
                                  FontWeight="Bold" 
                                  Foreground="#2C3E50" 
                                  Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Rechercher Client *" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                                <TextBox x:Name="SearchClientTextBox" 
                                        Padding="10" 
                                        BorderBrush="#E2E8F0" 
                                        BorderThickness="1" 
                                    Margin="0,5,0,0"/>
                            </StackPanel>

                            <Button Grid.Column="2" 
                                   x:Name="SearchButton"
                                   Content="ðŸ” Rechercher"
                                   Background="#3498DB" 
                                   Foreground="White"
                                   Padding="15,10" 
                                   Margin="0,25,0,0"
                                   BorderThickness="0"
                                   FontWeight="SemiBold"
                                   Cursor="Hand"
                                   Click="SearchButton_Click"/>
                        </Grid>

                        <ListView x:Name="ClientsListView" 
                                 Height="150" 
                                 BorderBrush="#E2E8F0" 
                                 BorderThickness="1" 
                                 Margin="0,10,0,0"
                                 SelectionChanged="ClientsListView_SelectionChanged">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header="Nom Complet" Width="200" DisplayMemberBinding="{Binding FullName}"/>
                                    <GridViewColumn Header="TÃ©lÃ©phone" Width="120" DisplayMemberBinding="{Binding Contact.PrimaryPhone}"/>
                                    <GridViewColumn Header="Code Client" Width="100" DisplayMemberBinding="{Binding CustomerCode}"/>
                                </GridView>
                            </ListView.View>
                        </ListView>

                        <TextBlock x:Name="SelectedClientText" 
                                  Text="Aucun client sÃ©lectionnÃ©" 
                                  FontSize="12" 
                                  Foreground="#64748B" 
                                  Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Account Type Selection -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ’³ Type de Compte" 
                                  FontSize="16" 
                                  FontWeight="Bold" 
                                  Foreground="#2C3E50" 
                                  Margin="0,0,0,15"/>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="Type de Compte *" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                            <ComboBox x:Name="AccountTypeComboBox" 
                                     Padding="10" 
                                     BorderBrush="#E2E8F0" 
                                     BorderThickness="1" 
                                     Margin="0,5,0,0"
                                     SelectionChanged="AccountTypeComboBox_SelectionChanged">
                                <ComboBoxItem Content="Compte d'Ã‰pargne"/>
                                <ComboBoxItem Content="Compte Courant"/>
                                <ComboBoxItem Content="Compte d'Ã‰pargne Ã  Terme"/>
                            </ComboBox>
                        </StackPanel>

                        <Grid Margin="0,10,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Devise *" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                                <ComboBox x:Name="CurrencyComboBox" 
                                         Padding="10" 
                                         BorderBrush="#E2E8F0" 
                                         BorderThickness="1" 
                                         Margin="0,5,0,0">
                                    <ComboBoxItem Content="HTG (Gourde HaÃ¯tienne)"/>
                                    <ComboBoxItem Content="USD (Dollar AmÃ©ricain)"/>
                                </ComboBox>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="DÃ©pÃ´t Initial *" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                                <TextBox x:Name="OpeningDepositTextBox" 
                                        Padding="10" 
                                        BorderBrush="#E2E8F0" 
                                        BorderThickness="1" 
                                        Margin="0,5,0,0"/>
                            </StackPanel>
                        </Grid>

                        <StackPanel x:Name="TermAccountPanel" Visibility="Collapsed" Margin="0,10,0,0">
                            <TextBlock Text="DurÃ©e du Terme (mois)" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                            <ComboBox x:Name="TermDurationComboBox" 
                                     Padding="10" 
                                     BorderBrush="#E2E8F0" 
                                     BorderThickness="1" 
                                     Margin="0,5,0,0">
                                <ComboBoxItem Content="3 mois"/>
                                <ComboBoxItem Content="6 mois"/>
                                <ComboBoxItem Content="12 mois"/>
                                <ComboBoxItem Content="24 mois"/>
                                <ComboBoxItem Content="36 mois"/>
                            </ComboBox>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Authorized Signers (Optional) -->
                <Border Background="White" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                    <StackPanel>
                        <TextBlock Text="ðŸ‘¥ Signataires AutorisÃ©s (Optionnel)" 
                                  FontSize="16" 
                                  FontWeight="Bold" 
                                  Foreground="#2C3E50" 
                                  Margin="0,0,0,15"/>

                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Signataire 1 - Nom" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                                <TextBox x:Name="Signer1NameTextBox" 
                                        Padding="10" 
                                        BorderBrush="#E2E8F0" 
                                        BorderThickness="1" 
                                        Margin="0,5,0,0"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Signataire 1 - TÃ©lÃ©phone" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                                <TextBox x:Name="Signer1PhoneTextBox" 
                                        Padding="10" 
                                        BorderBrush="#E2E8F0" 
                                        BorderThickness="1" 
                                        Margin="0,5,0,0"/>
                            </StackPanel>
                        </Grid>

                        <Grid Margin="0,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Signataire 2 - Nom" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                                <TextBox x:Name="Signer2NameTextBox" 
                                        Padding="10" 
                                        BorderBrush="#E2E8F0" 
                                        BorderThickness="1" 
                                        Margin="0,5,0,0"/>
                            </StackPanel>

                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Signataire 2 - TÃ©lÃ©phone" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                                <TextBox x:Name="Signer2PhoneTextBox" 
                                        Padding="10" 
                                        BorderBrush="#E2E8F0" 
                                        BorderThickness="1" 
                                        Margin="0,5,0,0"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!-- Purpose and Notes -->
                <Border Background="White" CornerRadius="8" Padding="20">
                    <StackPanel>
                        <TextBlock Text="ðŸ“ Informations SupplÃ©mentaires" 
                                  FontSize="16" 
                                  FontWeight="Bold" 
                                  Foreground="#2C3E50" 
                                  Margin="0,0,0,15"/>

                        <StackPanel Margin="0,0,0,10">
                            <TextBlock Text="Objectif du Compte (optionnel)" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                            <TextBox x:Name="PurposeTextBox" 
                                    Padding="10" 
                                    BorderBrush="#E2E8F0" 
                                    BorderThickness="1" 
                                    Margin="0,5,0,0"
                                    TextWrapping="Wrap"
                                    AcceptsReturn="True"
                                    Height="60"/>
                        </StackPanel>

                        <StackPanel Margin="0,10,0,0">
                            <TextBlock Text="Notes (optionnel)" FontSize="12" FontWeight="SemiBold" Foreground="#64748B"/>
                            <TextBox x:Name="NotesTextBox" 
                                    Padding="10" 
                                    BorderBrush="#E2E8F0" 
                                    BorderThickness="1" 
                                    Margin="0,5,0,0"
                                    TextWrapping="Wrap"
                                    AcceptsReturn="True"
                                    Height="60"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>